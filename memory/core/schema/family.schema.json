{
  "$schema":"http://json-schema.org/draft-07/schema#",
  "type":"object",
  "required":["schema","as_of","members","relations","constraints"],
  "properties":{
    "schema":{"const":"family.v1"},
    "as_of":{"type":"string","format":"date"},
    "review_after_days":{"type":"integer","minimum":1},
    "members":{"type":"array","minItems":10,"maxItems":10,
      "items":{"type":"object","required":["id","name_pub","role"],
        "properties":{
          "id":{"type":"string"},
          "name_pub":{"type":"string"},
          "name_priv":{"type":"string"},
          "role":{"type":"string"},
          "birthday":{"type":"string"}
        }
      }
    },
    "relations":{"type":"array","minItems":52,"maxItems":52,
      "items":{"type":"object","required":["type","src","dst"],
        "properties":{
          "type":{"enum":["parent_of","sibling_of","spouse_of","grandparent_of","uncle_aunt_of"]},
          "src":{"type":"string"},
          "dst":{"type":"string"}
        }}
    },
    "constraints":{"type":"object",
      "properties":{
        "unique_ids":{"type":"boolean"},
        "acyclic_on":{"type":"array","items":{"type":"string"}},
        "symmetric_on":{"type":"array","items":{"type":"string"}},
        "max_parents":{"type":"integer","minimum":0},
        "max_members":{"type":"integer","const":10}
      },
      "required":["unique_ids","acyclic_on","symmetric_on","max_parents","max_members"]
    }
  }
}
