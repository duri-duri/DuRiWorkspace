# Day 63: 코딩 PR 모드 고도화 - Definition of Done

## 🎯 PR 게이트 기준 (필수)

### ✅ 코드 품질
- [ ] **린트 통과**: pylint 점수 >= 8.0
- [ ] **포맷 통과**: black 포맷팅 적용 완료
- [ ] **테스트 통과**: 모든 테스트 케이스 성공
- [ ] **커버리지**: 코드 커버리지 >= 80%

### ✅ RAG 성능 유지
- [ ] **RAG 게이트 통과**: Day 62 베이스라인 유지 (micro_p@3 >= 0.3333)
- [ ] **성능 회귀 없음**: 기존 기능 성능 저하 없음
- [ ] **드리프트 감지**: RAG 검색 품질 일관성 유지

### ✅ 보안 및 안정성
- [ ] **보안 검토**: 취약점 스캔 통과
- [ ] **에러 핸들링**: 예외 상황 처리 완료
- [ ] **로깅**: 적절한 로그 레벨 및 메시지

## 🔍 코드 리뷰 기준

### ✅ 자동 리뷰 (RAG 기반)
- [ ] **관련 문서 검색**: 변경사항과 관련된 문서 자동 추천
- [ ] **위험 포인트 식별**: 잠재적 문제점 자동 감지
- [ ] **테스트 아이디어**: 추가 테스트 케이스 제안
- [ ] **성능 영향**: 성능에 미치는 영향 분석

### ✅ 수동 리뷰
- [ ] **코드 가독성**: 명확하고 이해하기 쉬운 코드
- [ ] **아키텍처 일관성**: 기존 설계 패턴 준수
- [ ] **문서화**: 필요한 주석 및 문서 추가
- [ ] **의존성 관리**: 새로운 의존성 적절성 검토

## 📊 메트릭 기준

### ✅ PR 메트릭
- [ ] **리드타임**: PR 생성부터 머지까지 < 24시간
- [ ] **리뷰 회전수**: 2-3회의 의미있는 리뷰
- [ ] **코멘트 수락률**: 제안된 변경사항 80% 이상 수락
- [ ] **결함률**: 변경 라인당 결함 < 0.01

### ✅ 품질 메트릭
- [ ] **커버리지 델타**: 기존 커버리지 유지 또는 향상
- [ ] **복잡도**: 순환 복잡도 증가 최소화
- [ ] **중복도**: 코드 중복 제거
- [ ] **유지보수성**: 코드 이해도 및 수정 용이성

## 🚀 배포 기준

### ✅ 자동화
- [ ] **CI/CD 통과**: 모든 파이프라인 단계 성공
- [ ] **자동 테스트**: 단위/통합/회귀 테스트 통과
- [ ] **자동 배포**: 스테이징 환경 배포 성공
- [ ] **모니터링**: 배포 후 메트릭 정상

### ✅ 롤백 준비
- [ ] **롤백 계획**: 문제 발생 시 롤백 절차 준비
- [ ] **피처 플래그**: 새로운 기능 토글 가능
- [ ] **데이터 마이그레이션**: 필요시 롤백 가능한 마이그레이션
- [ ] **모니터링 알림**: 문제 감지 시 즉시 알림

## 🎉 완료 기준

### ✅ 최종 체크리스트
- [ ] **모든 게이트 통과**: 위의 모든 기준 충족
- [ ] **승인자 승인**: 최소 1명의 승인자 승인
- [ ] **충돌 해결**: 머지 충돌 없음
- [ ] **문서 업데이트**: 관련 문서 최신화

### ✅ 사후 검증
- [ ] **배포 후 모니터링**: 24시간 이상 안정성 확인
- [ ] **성능 지표**: 예상 성능 달성 확인
- [ ] **사용자 피드백**: 사용자 만족도 확인
- [ ] **학습 반영**: 개선점 다음 PR에 반영

---

## 📋 체크리스트 실행

```bash
# PR 게이트 실행
bash scripts/pr_gate_day63.sh

# 코드 RAG 리뷰 실행
bash scripts/code_rag_review_day63.sh

# 메트릭 대시보드 확인
bash scripts/metrics_dashboard_day63.sh

# RAG 게이트 확인
bash scripts/rag_gate_day62.sh
```

**모든 체크리스트 통과 시에만 PR 머지 가능** ✅
